<!-- /sections/featured-product.liquid -->
{%- liquid
  assign product = all_products[section.settings.product]
  assign bg_color = section.settings.bg_color
  assign section_width = section.settings.width
-%}

{%- style -%}
  #FeaturedProduct--{{ section.id }} {
    --PT: {{ section.settings.padding_top }}px;
    --PB: {{ section.settings.padding_bottom }}px;
    --BP: {{ section.settings.block_padding }}px;

    {%- if bg_color != 'rgba(0,0,0,0)' and bg_color != '' -%}
      background-color: {{ bg_color }};
    {%- endif -%}
  }
{%- endstyle -%}

<section
  id="FeaturedProduct--{{ section.id }}"
  class="section-padding featured-product{% if product == blank %} featured-product--onboarding{% endif %} product--{{ section.id }} product-single"
  data-enable-history-state="false"
  data-section-id="{{ section.id }}"
  data-section-type="featured-product">
  <div class="{{ section_width }}">
    {%- render 'product' product: product, unique: section.id, section: section, section_type: 'featured' -%}
  </div>
</section>

{% schema %}
  {
    "name": "Featured product",
    "class":"featured-product-section",
    "settings": [
      {
        "type": "product",
        "id": "product",
        "label": "Product"
      },
      {
        "type": "select",
        "id": "image_size",
        "label": "Image size",
        "options": [
          {
            "value": "small",
            "label": "Small"
          },
          {
            "value": "medium",
            "label": "Medium"
          },
          {
            "value": "large",
            "label": "Large"
          }
        ],
        "default": "medium"
      },
      {
        "type": "checkbox",
        "id": "hide_product_thumbnails",
        "label": "Hide product thumbnails",
        "default": false
      },
      {
        "type": "header",
        "content": "Media",
        "info": "Learn more about [media types](https://help.shopify.com/manual/products/product-media)"
      },
      {
        "type": "checkbox",
        "id": "enable_zoom",
        "label": "Enable zoom",
        "default": true
      },
      {
        "type": "checkbox",
        "id": "enable_video_looping",
        "label": "Enable video looping",
        "default": false
      },
      {
        "type": "header",
        "content": "Colors"
      },
      {
        "type": "color",
        "id": "bg_color",
        "label": "Background"
      },
      {
        "type": "header",
        "content": "Block spacing"
      },
      {
        "type": "range",
        "id": "block_padding",
        "min": 0,
        "max": 50,
        "step": 1,
        "unit": "px",
        "label": "Padding",
        "default": 20
      },
      {
        "type": "header",
        "content": "Section spacing"
      },
      {
        "type": "select",
        "id": "width",
        "label": "Width",
        "default": "wrapper--full-padded",
        "options": [
          { "value": "wrapper--full-padded", "label": "Full width padded" },
          { "value": "wrapper", "label": "Page width" }
        ]
      },
      {
        "type": "range",
        "id": "padding_top",
        "min": 0,
        "max": 100,
        "step": 1,
        "unit": "px",
        "label": "Padding top",
        "default": 60
      },
      {
        "type": "range",
        "id": "padding_bottom",
        "min": 0,
        "max": 100,
        "step": 1,
        "unit": "px",
        "label": "Padding bottom",
        "default": 60
      }
    ],
    "blocks": [
      {
        "type": "@app"
      },
      {
        "type": "title",
        "name": "Title and price",
        "limit": 1,
        "settings": [
          {
            "type": "select",
            "id": "subheading",
            "label": "Navigation",
            "default": "none",
            "options": [
              { "value": "none", "label": "None" },
              { "value": "collection", "label": "Collection" },
              { "value": "vendor", "label": "Vendor" }
            ]
          },
          {
            "type": "header",
            "content": "Star rating",
            "info": "Requires an app to set the metafield value for reviews.rating"
          },
          {
            "type": "checkbox",
            "id": "show_rating",
            "label": "Show star rating",
            "default": true
          },
          {
            "type": "checkbox",
            "id": "show_rating_count",
            "label": "Show rating count",
            "default": false
          }
        ]
      },
      {
        "name": "Form",
        "type": "form",
        "limit": 1,
        "settings": [
          {
            "type": "header",
            "content": "Size chart"
          },
          {
            "type": "page",
            "id": "info_page",
            "label": "Page"
          },
          {
            "type": "header",
            "content": "Form elements"
          },
          {
            "type": "checkbox",
            "id": "show_labels",
            "label": "Show variant labels",
            "default": true
          },
          {
            "type": "checkbox",
            "id": "show_quantity",
            "label": "Show quantity selector",
            "default": true
          },
          {
            "type": "checkbox",
            "id": "show_payment_button",
            "label": "Show dynamic checkout buttons",
            "info": "Each customer will see their preferred payment method from those available on your store, such as PayPal or Apple Pay. [Learn more](https://help.shopify.com/en/manual/online-store/os/dynamic-checkout)",
            "default": true
          },
          {
            "type": "header",
            "content": "Subscriptions",
            "info": "Learn more about [subscriptions](https://help.shopify.com/en/manual/products/subscriptions)"
          },
          {
            "type": "checkbox",
            "id": "enable_subscriptions_selectors",
            "label": "Enable subscription selectors",
            "info": "Shown on products with subscription options",
            "default": true
          }
        ]
      },
      {
        "name": "Product description",
        "type": "description"
      },
      {
        "name": "Accordions",
        "type": "product_accordions",
        "settings": [
          {
            "type": "text",
            "id": "accordion_heading_1",
            "label": "Accordion heading 1",
            "default": "Accordion"
          },
          {
            "type": "richtext",
            "id": "accordion_text_1",
            "label": "Accordion text 1",
            "default": "<p>Use this accordion to add info such as Materials, Sizing, Features, Shipping and Returns policies</p>"
          },
          {
            "type": "page",
            "id": "accordion_page_1",
            "label": "Accordion page 1",
            "info": "Example: Size chart"
          },
          {
            "type": "text",
            "id": "accordion_heading_2",
            "label": "Accordion heading 2",
            "default": "Accordion"
          },
          {
            "type": "richtext",
            "id": "accordion_text_2",
            "label": "Accordion text 2",
            "default": "<p>Use this accordion to add info such as Materials, Sizing, Features, Shipping and Returns policies</p>"
          },
          {
            "type": "page",
            "id": "accordion_page_2",
            "label": "Accordion page 2"
          },
          {
            "type": "text",
            "id": "accordion_heading_3",
            "label": "Accordion heading 3",
            "default": "Info"
          },
          {
            "type": "richtext",
            "id": "accordion_text_3",
            "label": "Accordion text 3",
            "default": "<p>Use this accordion to add info such as Materials, Sizing, Features, Shipping and Returns policies</p>"
          },
          {
            "type": "page",
            "id": "accordion_page_3",
            "label": "Accordion page 3"
          },
          {
            "type": "text",
            "id": "accordion_heading_4",
            "label": "Accordion heading 4"
          },
          {
            "type": "richtext",
            "id": "accordion_text_4",
            "label": "Accordion text 4"
          },
          {
            "type": "page",
            "id": "accordion_page_4",
            "label": "Accordion page 4"
          },
          {
            "type": "text",
            "id": "accordion_heading_5",
            "label": "Accordion heading 5"
          },
          {
            "type": "richtext",
            "id": "accordion_text_5",
            "label": "Accordion text 5"
          },
          {
            "type": "page",
            "id": "accordion_page_5",
            "label": "Accordion page 5"
          }
        ],
        "limit": 1
      },
      {
        "type": "upsell",
        "name": "Upsell",
        "limit": 1,
        "settings": [
          {
            "type": "paragraph",
            "content": "Upsell is best as a one-click add to cart, so upsell products should have no variants. [Learn more](https://presidiocreative.com/link/palo-alto/docs/section-blocks/upsell)"
          },
          {
            "type": "product_list",
            "id": "product_list",
            "label": "Product list",
            "info": "Show a slider of upsell products. Use a metafield called theme.upsell_list."
          },
          {
            "type": "product",
            "id": "product",
            "label": "Product",
            "info": "Show a single upsell product. Use a metafield called theme.upsell."
          },
          {
            "type": "header",
            "content": "Cart"
          },
          {
            "type": "paragraph",
            "content": "Use a dynamic source with the metafield 'theme.upsell' or `theme.upsell_list` to allow product upsells to follow users into the cart. Use any other name to limit this feature to the product page."
          }
        ]
      },
      {
        "name": "Share button",
        "type": "share-button",
        "limit": 1,
        "settings": [
          {
            "type": "text",
            "id": "text",
            "label": "Text",
            "default": "Share",
            "info": "If you include a link in social media posts, the page\’s featured image will be shown as the preview image.[Learn more](https://help.shopify.com/en/manual/online-store/images/showing-social-media-thumbnail-images)"
          },
          {
            "type": "paragraph",
            "content": "A store title and description are included with the preview image.[Learn more](https://help.shopify.com/en/manual/promoting-marketing/seo/adding-keywords#set-a-title-and-description-for-your-online-store)"
          }
        ]
      },
      {
        "name": "Custom Liquid",
        "type": "custom_liquid",
        "settings": [
          {
            "type": "liquid",
            "id": "custom_liquid",
            "label": "Custom liquid",
            "info": "Add app snippets or other Liquid code to create advanced customizations."
          }
        ]
      },
      {
        "type": "text",
        "name": "Text",
        "settings": [
          {
            "type": "richtext",
            "id": "title",
            "label": "Text"
          }
        ]
      },
      {
        "type": "icon",
        "name": "Icon",
        "settings": [
          {
            "type": "select",
            "id": "icon_name",
            "label": "Select an icon",
            "default": "check",
            "options": [
              { "value": "alert-circle", "label": "Alert" },
              { "value": "archive", "label": "Archive" },
              { "value": "arrow-up-circle", "label": "Arrow" },
              { "value": "arrow-up-right", "label": "Arrow right" },
              { "value": "at-sign", "label": "At sign" },
              { "value": "award", "label": "Award" },
              { "value": "bell", "label": "Bell" },
              { "value": "bookmark", "label": "Bookmark" },
              { "value": "calendar", "label": "Calendar" },
              { "value": "camera", "label": "Camera" },
              { "value": "check", "label": "Check" },
              { "value": "clipboard", "label": "Clipboard" },
              { "value": "clock", "label": "Clock" },
              { "value": "compass", "label": "Compass" },
              { "value": "credit-card", "label": "Credit card" },
              { "value": "dollar-sign", "label": "Dollar sign" },
              { "value": "download", "label": "Download" },
              { "value": "edit-2", "label": "Pencil" },
              { "value": "flag", "label": "Flag" },
              { "value": "heart", "label": "Heart" },
              { "value": "help-circle", "label": "Question mark" },
              { "value": "info", "label": "Info" },
              { "value": "mail", "label": "Mail" },
              { "value": "map-pin", "label": "Map" },
              { "value": "message-circle", "label": "Message" },
              { "value": "music", "label": "Music" },
              { "value": "paperclip", "label": "Paperclip" },
              { "value": "phone", "label": "Phone" },
              { "value": "plus", "label": "Plus" },
              { "value": "refresh-cw", "label": "Recycle" },
              { "value": "shield", "label": "Shield" },
              { "value": "smile", "label": "Smile" },
              { "value": "star", "label": "Star" },
              { "value": "thumbs-up", "label": "Thumbs up" },
              { "value": "truck", "label": "Truck" },
              { "value": "zap", "label": "Lightening" },
              { "value": "none", "label": "None"}
            ]
          },
          {
            "type": "color",
            "id": "icon_color",
            "label": "Color"
          },
          {
            "type": "image_picker",
            "id": "icon_image",
            "label": "Image",
            "info": "If set overrides the icon above"
          },
          {
            "type": "range",
            "id": "icon_width",
            "label": "Width",
            "min": 10,
            "max": 50,
            "step": 1,
            "unit": "px",
            "default": 20
          },
          {
            "type": "header",
            "content": "Text"
          },
          {
            "type": "text",
            "id": "icon_text",
            "label": "Heading",
            "default": "30 day hassle-free trial"
          },
          {
            "type": "range",
            "id": "text_size",
            "label": "Size",
            "default": 90,
            "min": 50,
            "max": 125,
            "step": 5,
            "unit": "%"
          },
          {
            "type": "header",
            "content": "Layout"
          },
          {
            "type": "select",
            "id": "width",
            "label": "Width",
            "default": "full",
            "options": [
              { "label": "Wide", "value": "full" },
              { "label": "Half", "value": "half" }
            ]
          },
          {
            "type": "select",
            "id": "text_alignment",
            "label": "Alignment",
            "default": "left",
            "options": [
              { "label": "Center", "value": "center" },
              { "label": "Left", "value": "left" }
            ]
          },
          {
            "type": "color",
            "id": "bg_color",
            "label": "Background color",
            "default": "#ffffff"
          },
          {
            "type": "checkbox",
            "id": "remove_padding",
            "label": "Remove padding",
            "default": true
          }
        ]
      },
      {
        "type": "inventory_countdown",
        "name": "Inventory countdown",
        "limit": 1,
        "settings": [
          {
            "type": "range",
            "id": "max_inventory",
            "label": "Low inventory threshold",
            "min": 0,
            "max": 20,
            "step": 1,
            "default": 10
          },
          {
            "type": "checkbox",
            "id": "hide_inventory_count",
            "label": "Hide inventory count",
            "default": true
          }
        ]
      },
      {
        "type": "popup_text",
        "name": "Popup text",
        "settings": [
          {
            "type": "text",
            "id": "text",
            "label": "Text",
            "default": "Read more"
          },
          {
            "type": "page",
            "id": "popup_page",
            "label": "Page"
          }
        ]
      },
      {
        "type": "divider",
        "name": "Divider",
        "settings": [
          {
            "type": "checkbox",
            "id": "show_line",
            "label": "Show line",
            "default": true
          },
          {
            "type": "range",
            "id": "padding_top",
            "min": 0,
            "max": 50,
            "step": 1,
            "unit": "px",
            "label": "Padding top",
            "default": 20
          },
          {
            "type": "range",
            "id": "padding_bottom",
            "min": 0,
            "max": 50,
            "step": 1,
            "unit": "px",
            "label": "Padding bottom",
            "default": 20
          }
        ]
      }
    ],
    "presets": [
      {
        "name": "Featured product",
        "category": "Collection",
        "blocks": [
          {
            "type": "title"
          },
          {
            "type": "form"
          },
          {
            "type": "description"
          }
        ]
      }
    ]
  }
{% endschema %}